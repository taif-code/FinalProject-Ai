<!DOCTYPE html>
<html lang="ar">
<head>
    <meta charset="UTF-8">
    <title>ุงููุฑุดุฏ ุงูุณูุงุญู ุงูุฐูู</title>
</head>
<body>
    <h1>๐งญ ูุฑุดุฏ ุณูุงุญู ุฐูู</h1>

    <h3>โ๏ธ ุงุณุฃู ุนู ูุนูู:</h3>
    <form id="text-form">
        <input type="text" name="text" placeholder="ุฃุฏุฎู ุณุคุงูู ููุง...">
        <button type="submit">ุฅุฑุณุงู</button>
    </form>

    <h3>๐ค ุฃุฑุณู ููู ุตูุชู:</h3>
    <form id="audio-form" enctype="multipart/form-data">
        <input type="file" name="audio">
        <button type="submit">ุฑูุน ุงูุตูุช</button>
    </form>

    <h3>๐ผ๏ธ ุฃุฑุณู ุตูุฑุฉ ูุนูู:</h3>
    <form id="image-form" enctype="multipart/form-data">
        <input type="file" name="image">
        <button type="submit">ุฑูุน ุงูุตูุฑุฉ</button>
    </form>

    <h3>๐ ุงููุชูุฌุฉ:</h3>
    <div id="response-box"></div>

    <script>
        function handleForm(formId, url, inputName) {
            const form = document.getElementById(formId);
            form.addEventListener('submit', function (e) {
                e.preventDefault();
                const formData = new FormData(form);
                fetch(url, {
                    method: 'POST',
                    body: formData
                })
                .then(res => res.json())
                .then(data => {
                    document.getElementById('response-box').innerText = data.answer + "\n๐ ุงููุตุฏุฑ: " + data.source;
                })
                .catch(err => alert("โ Error: " + err));
            });
        }

        handleForm("text-form", "/analyze_text");
        handleForm("audio-form", "/analyze_audio");
        handleForm("image-form", "/analyze_image");
    </script>
</body>
</html>
